<?xml version="1.0" encoding="UTF-8"?>
<files>
    <% mapper.entity.each { %>
    <%
    def className = fn.toName(it.clazz)
    def classVar  = fn.toNameVar(it.clazz)
    def classText = fn.toNameText(it.clazz)
    def classConst= fn.toNameConst(it.clazz)
    def basics = it.attributes.basic
    def ids    = it.attributes.id
    %>
    <!-- path: [layer]/[dir]/[package] -->
    <file name="${className}Serv" layer="serv" dir="." package="${groupId}.${artifactId}.${module}">
        interface ${className}Serv {
        List<${className}Data> filter${className}(${className}Filter ${classVar});
        ${className}Data[] filter${className}(${className}Filter ${classVar});
        ${className}Data create${className}(${className}Data ${classVar});
        ${className}Data update${className}(${className}Data ${classVar});
        ${className}Data remove${className}(${className}Data ${classVar});
        }
    </file>
    <file name="${className}Data" package="${groupId}.${artifactId}.${module}.state" dir="." layer="serv">
        public class ${className}Data implements Serialize{
        <% ids.each{  %>
        public ${it.'_attribute-type'} ${it.name};
        <% } %>
        <% basics.each{  %>
        public ${it.'attribute-type'} ${it.name};
        <% } %>
        }
    </file>
    <% } %>
</files>
